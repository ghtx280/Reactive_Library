let Rem_Data,Rem_Watches=[];const Rem_Store={},Rem_Store_For={},RemJs={data:e=>(Rem_Data=new Proxy(e,{get:(e,t)=>Reflect.get(e,t),set(e,t,r){let n=e[t];e[t]=r,Rem_Watches.forEach((e=>{t!==e.var&&!0!==e.var||e.func(n,r)})),Rem_Update(t,n,r,t)}}),Rem_Data),watch(e,t){Rem_Watches.push({var:e,func:t})},mounted(e){addEventListener("DOMContentLoaded",e)}};function Rem_js(e){if(t="do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void",r=String(e),!Boolean(t.split(",").filter((e=>r.includes(e))).length))return Object.keys(Rem_Data).forEach((t=>{e.includes(t)&&!e.includes("Rem_Data."+t)&&(e=e.replaceAll(t,"Rem_Data."+t))})),new Function(`return ${e}`)();var t,r}function Rem_parseAttr(e){const t=[],r=(e,r)=>t.push({prop:e,value:r}),n=e=>e.slice(0,e.indexOf(":")).trim(),i=e=>e.slice(e.indexOf(":")+1).trim(),o=t=>n(t||e).split("&").forEach((n=>{r(n.trim(),i(t||e))}));return e.includes(";")?e.split(";").forEach((e=>e.includes("&")?o(e):r(n(e),i(e)))):e.includes("&")?o():r(n(e),i(e)),t}function Rem_Update(e,t,r,n){Rem_Store[e]?.forEach((r=>{if(r.bind)for(const n of Rem_parseAttr(r.bind))"class"==n.prop&&(n.prop="className"),"text"==n.prop&&(n.prop="innerText"),"this"==n.prop?Rem_Data[n.value]!=r.el&&(Rem_Data[n.value]=r.el):"className"==n.prop?void 0!==t?(t="string"==typeof t?`"${t}"`:t,r.el.classList.remove(Rem_js(n.value.replaceAll(e,t))),r.el.classList.add(Rem_js(n.value))):r.el.className.includes(Rem_js(n.value))||(r.el.className+=" "+Rem_js(n.value)):"innerText"==n.prop?Rem_Data[n.value]!=r.el[n.prop]&&(Rem_Data[n.value]=r.el[n.prop]):r.el[n.prop]=Rem_js(n.value);if(r.if&&(Rem_js(r.if)?r.el.append(...r.html):r.el.innerHTML=""),r.css)for(const e of Rem_parseAttr(r.css))r.el.style[e.prop]=Rem_js(e.value);if(r.for){r.el.innerHTML="";for(const e in Rem_Data[r.for]){let t=createElement(r.html)[0]?.cloneNode(!0);if(!t)break;let n=t.innerHTML.replaceAll("$",`${r.for}[${e}]`),i=n,o=n.match(/\{([^}]+)\}/g),l=o?.map((e=>e.slice(1,e.length-1).trim()));for(let e in l)n=n.replaceAll(o[e],Rem_js(l[e]));t.removeAttribute("in"),t.innerHTML=n,r.el.append(t),setStore(t,"in",i,e)}}if(r.in){let e=r.in,t=e.match(/\{([^}]+)\}/g),n=t.map((e=>e.slice(1,e.length-1).trim()));for(let r in t)e=e.replaceAll(t[r],Rem_js(n[r]));r.el.innerHTML=e}}))}function createElement(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes}function setStore(e,t,r,n){if("in"===t){let i=r||e.innerText,o=i.match(/\{([^}]+)\}/g)?.map((e=>e.slice(1,e.length-1).trim()));for(const r in Rem_Store)if(o?.filter((e=>e.includes(r))).length)if(n){let o=Rem_Store[r].filter((e=>e.k==n));o.length?o[0].el=e:Rem_Store[r].push({el:e,[t]:i,k:n})}else Rem_Store[r].push({el:e,[t]:i})}else for(const r in Rem_Store)if(e.getAttribute(t).includes(r)){let n={};"if"===t&&(n.html=Array.from(e.children)),"for"===t&&(n.html=e.innerHTML.trim(),e.innerHTML=""),n[t]=e.getAttribute(t),n.el=e,Rem_Store[r].push(n)}}document.addEventListener("DOMContentLoaded",(()=>{if(Rem_Data)for(const e of Object.keys(Rem_Data))"function"!=typeof Rem_Data[e]&&(Rem_Store[e]=[]);const e="on,in,if,bind,css".split(",").map((e=>`[${e}]`)).join();for(const e of document.querySelectorAll("[for]"))setStore(e,"for"),e.removeAttribute("for");for(const e of document.querySelectorAll("[in]"))setStore(e,"in"),e.removeAttribute("in");for(const t of document.querySelectorAll(e)){if(t.hasAttribute("if")&&(setStore(t,"if"),t.removeAttribute("if")),t.hasAttribute("css")&&(setStore(t,"css"),t.removeAttribute("css")),t.hasAttribute("bind")){let e="change",r=t.getAttribute("bind");(r.includes("value")||r.includes("checked"))&&Rem_parseAttr(r).forEach((r=>{"value"==r.prop&&(e="input"),t.addEventListener(e,(()=>{Rem_Data[r.value]=t[r.prop]}))})),setStore(t,"bind"),t.removeAttribute("bind")}t.hasAttribute("on")&&(Rem_parseAttr(t.getAttribute("on")).forEach((e=>{t.addEventListener(e.prop,(function(){Rem_js(e.value)}))})),t.removeAttribute("on"))}for(const e in Rem_Store)Rem_Update(e)}));